<!doctype html>
<html lang="zh-Hans" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.2">
<title data-react-helmet="true">How to spend a coin using an RPC call | Chialisp</title><meta data-react-helmet="true" property="og:url" content="http://cpp6d.github.io/chialisp-web//chialisp-web/zh-Hans/docs/tutorials/coin_spend_rpc"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-Hans"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to spend a coin using an RPC call | Chialisp"><meta data-react-helmet="true" name="description" content="This tutorial teaches you how to spend a coin with any puzzle using RPC calls. We will be using the password-locked coin puzzle from How to lock coin with a custom puzzle as an example."><meta data-react-helmet="true" property="og:description" content="This tutorial teaches you how to spend a coin with any puzzle using RPC calls. We will be using the password-locked coin puzzle from How to lock coin with a custom puzzle as an example."><link data-react-helmet="true" rel="shortcut icon" href="/chialisp-web/zh-Hans/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://cpp6d.github.io/chialisp-web//chialisp-web/zh-Hans/docs/tutorials/coin_spend_rpc"><link data-react-helmet="true" rel="alternate" href="http://cpp6d.github.io/chialisp-web//chialisp-web/docs/tutorials/coin_spend_rpc" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://cpp6d.github.io/chialisp-web//chialisp-web/zh-Hans/docs/tutorials/coin_spend_rpc" hreflang="zh-Hans"><link data-react-helmet="true" rel="alternate" href="http://cpp6d.github.io/chialisp-web//chialisp-web/docs/tutorials/coin_spend_rpc" hreflang="x-default"><link rel="stylesheet" href="/chialisp-web/zh-Hans/assets/css/styles.ad8e254e.css">
<link rel="preload" href="/chialisp-web/zh-Hans/assets/js/runtime~main.a3f653e3.js" as="script">
<link rel="preload" href="/chialisp-web/zh-Hans/assets/js/main.a8cafe8e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/chialisp-web/zh-Hans/"><img src="/chialisp-web/zh-Hans/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/chialisp-web/zh-Hans/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Chialisp</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/chialisp-web/zh-Hans/docs/">Docs</a><a href="https://chialisp.com/training" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Training<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Chia.net<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a href="#" class="navbar__item navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/chialisp-web/docs/tutorials/coin_spend_rpc" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/chialisp-web/zh-Hans/docs/tutorials/coin_spend_rpc" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">简体中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/chialisp-web/zh-Hans/"><img src="/chialisp-web/zh-Hans/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/chialisp-web/zh-Hans/img/logo.svg" alt="Chialisp Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Chialisp</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/chialisp-web/zh-Hans/docs/">Docs</a></li><li class="menu__list-item"><a href="https://chialisp.com/training" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Training<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://chia.net/blog" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://chia.net" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Chia.net<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/Chia-Network/chialisp-web" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/chialisp-web/docs/tutorials/coin_spend_rpc" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/chialisp-web/zh-Hans/docs/tutorials/coin_spend_rpc" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">简体中文</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="打开菜单" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Chialisp</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/">1 - CLVM Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/coins_spends_and_wallets">2 - Coins, Spends and Wallets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/deeper_into_clvm">3 - Deeper into CLVM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/high_level_lang">4 - The High Level Language, Compiler, and Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/common_functions">5 - Common Functions in Chialisp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/standard_transaction">6 - The Standard Transaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/coin_lifecycle">7 - Lifecycle of a Coin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/security">8 - Security</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/debugging">9 - Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/optimization">10 - Optimization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/glossary">The Great Chia Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLVM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/ref/clvm">CLVM Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/ref/serialization">Serialization</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Puzzles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/puzzles/singletons">Singletons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/puzzles/pooling">Pooling</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/why_chia_is_great">Why Chia is Great</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/developing_applications">An Overview of Developing Applications on Chia</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/tools_and_setup">Tools and Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/programming_chialisp">Programming in Chialisp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/coin_lifecycle_and_testing">Coin Lifecycle and Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/singletons">Singletons and Ethereum-like Contracts in Chia</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/custom_puzzle_lock">Lock a coin with a custom puzzle</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/chialisp-web/zh-Hans/docs/tutorials/coin_spend_rpc">Spend a coin using RPC</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">FAQ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/chialisp-web/zh-Hans/docs/faq">ChiaLisp and CLVM FAQ</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">How to spend a coin using an RPC call</h1></header><p>This tutorial teaches you how to spend a coin with any puzzle using RPC calls. We will be using the password-locked coin puzzle from <a href="/chialisp-web/zh-Hans/docs/tutorials/custom_puzzle_lock">How to lock coin with a custom puzzle</a> as an example.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="get-your-coins-info-amount-puzzle-hash--parent-info"></a>Get your coin&#x27;s info (amount, puzzle hash &amp; parent info)<a class="hash-link" href="#get-your-coins-info-amount-puzzle-hash--parent-info" title="标题的直接链接">#</a></h2><p>RPC call for spending a coin requires you to specify which coin you are spending. For unique identification, you need the coin&#x27;s amount, puzzle hash, and parent info. Those three pieces of information are also enough to calculate the coin&#x27;s ID.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-chia-explorer-by-puzzle-hashreceive-address"></a>Using Chia explorer (by puzzle hash/receive address)<a class="hash-link" href="#using-chia-explorer-by-puzzle-hashreceive-address" title="标题的直接链接">#</a></h3><p>If you know the puzzle hash or receive address of the coin you are looking for, you can <a href="https://www.chiaexplorer.com/blockchain/search" target="_blank" rel="noopener noreferrer">search for it using Chia explorer</a>. Chia explorer cannot search using puzzle hash, so if you have a puzzle hash, you first need to convert it to receive address using <a href="https://www.chiaexplorer.com/tools/address-puzzlehash-converter" target="_blank" rel="noopener noreferrer">Chia explorer&#x27;s tool</a>.  Remember that receive addresses are just encoded puzzle hashes and will still refer to the puzzle you are looking for.</p><p>When you search for a receive address, you&#x27;ll see all coins locked by the corresponding puzzle. Select the one you want to spend. That will get you the coin&#x27;s amount, puzzle hash, and parent info.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="get-serialized-puzzle-and-solution"></a>Get serialized puzzle and solution<a class="hash-link" href="#get-serialized-puzzle-and-solution" title="标题的直接链接">#</a></h2><p>The next thing you need to know to spend the coin is the coin&#x27;s puzzle and solution. Puzzles and solutions are provided in a serialized format, so we need to get that for each. The puzzle has to be compiled to low-level Chialisp and is serialized as normal.</p><p>To serialize the solution, you need to slightly modify the solution format to make it valid Chialisp program. For that, you need to quote your solution. For example, in case of the solution <code>(hello 0x5f5767744f91c1c326d927a63d9b34fa7035c10e3eb838c44e3afe127c1b7675 2)</code> you need to change it to <code>(q . (hello 0x5f5767744f91c1c326d927a63d9b34fa7035c10e3eb838c44e3afe127c1b7675 2))</code> which makes it valid Chialisp program that can be compiled.</p><p><strong>Example for the password-locked coin:</strong></p><p><strong>Puzzle:</strong> <code>(a (q 2 (i (= (sha256 5) (q . 0x2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824)) (q 4 (c 2 (c 11 (c 23 ()))) ()) (q 8)) 1) (c (q . 51) 1))</code></p><p><strong>Serialized puzzle:</strong> <code>0xff02ffff01ff02ffff03ffff09ffff0bff0580ffff01a02cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b982480ffff01ff04ffff04ff02ffff04ff0bffff04ff17ff80808080ff8080ffff01ff088080ff0180ffff04ffff0133ff018080</code></p><p><strong>Solution:</strong> <code>(hello 0x5f5767744f91c1c326d927a63d9b34fa7035c10e3eb838c44e3afe127c1b7675 2)</code> (as valid Chialisp program <code>(q . (hello 0x5f5767744f91c1c326d927a63d9b34fa7035c10e3eb838c44e3afe127c1b7675 2))</code>)</p><p><strong>Serialized solution:</strong> <code>0xff8568656c6c6fffa05f5767744f91c1c326d927a63d9b34fa7035c10e3eb838c44e3afe127c1b7675ff0280</code></p><p><em>WARNING: You have to change this solution and replace the target puzzle hash with your own to get your coins back</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="serialization-using-clvm_tools"></a>Serialization using <a href="https://github.com/Chia-Network/clvm_tools" target="_blank" rel="noopener noreferrer">clvm_tools</a><a class="hash-link" href="#serialization-using-clvm_tools" title="标题的直接链接">#</a></h3><p>The same command that we used for getting the puzzle hash in <a href="/chialisp-web/zh-Hans/docs/tutorials/custom_puzzle_lock#get-puzzle-hash-from-a-puzzle">How to lock coin with a custom puzzle</a> (<code>opc -H &lt;compiled_puzzle&gt;</code>) can be used for getting the serialized version of our puzzle and solution as well. The serialized version will be included in the response <strong>on the second line</strong>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">opc -H </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;(a (q 2 (i (= (sha256 5) (q . 0x2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824)) (q 4 (c 2 (c 11 (c 23 ()))) ()) (q 8)) 1) (c (q . 51) 1))&#x27;</span></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o clean-btn">复制</button></div></div><p><strong>Example response:</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">4843c869bba5f65aa1e806cd372dae5668ca3b69640d067e86837ca96b324e71</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token plain">ff02ffff01ff02ffff03ffff09ffff0bff0580ffff01a02cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b982480ffff01ff04ffff04ff02ffff04ff0bffff04ff17ff80808080ff8080ffff01ff088080ff0180ffff04ffff0133ff018080</span></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o clean-btn">复制</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="serialization-using-quexingtons-chialisp-dev-utility"></a>Serialization using <a href="https://github.com/Quexington/chialisp_dev_utility" target="_blank" rel="noopener noreferrer">Quexington&#x27;s Chialisp Dev Utility</a><a class="hash-link" href="#serialization-using-quexingtons-chialisp-dev-utility" title="标题的直接链接">#</a></h3><p>Follow repository&#x27;s README to set up a new project and serialize puzzle.</p><p>In short: paste your compiled puzzle/solution to your work file and call <code>chialisp build</code>. That will generate <code>.hex</code> files with a serialized version of your puzzle/solution (depending on your work file).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="serialization-using-chialisp-web-tool"></a>Serialization using <a href="https://clisp.surrealdev.com/" target="_blank" rel="noopener noreferrer">Chialisp web tool</a><a class="hash-link" href="#serialization-using-chialisp-web-tool" title="标题的直接链接">#</a></h3><p>Paste your puzzle in the text area and click <strong>Compile</strong>. The serialized result will be displayed in the <strong>Serialized</strong> section.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="spend-a-coin-with-rpc-call"></a>Spend a coin with RPC call<a class="hash-link" href="#spend-a-coin-with-rpc-call" title="标题的直接链接">#</a></h2><p>To spend your coin, you only need to call RPC (broadcast transaction example) with values specific to your spend.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#383a42;background-color:#fafafa;font-weight:bold"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token function" style="color:#0045DB">curl</span><span class="token plain"> --insecure --cert ~/.chia/mainnet/config/ssl/full_node/private_full_node.crt --key ~/.chia/mainnet/config/ssl/full_node/private_full_node.key -d </span><span class="token string" style="color:#B35C00;font-weight:normal">&#x27;{        &quot;spend_bundle&quot;: {</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">            &quot;aggregated_signature&quot;: &quot;0xc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;,</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">            &quot;coin_solutions&quot;: [</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                {</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                    &quot;coin&quot;: {</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                        &quot;amount&quot;: 1,</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                        &quot;parent_coin_info&quot;: &quot;0xccd5bb71183532bff220ba46c268991a00000000000000000000000000004082&quot;,</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                        &quot;puzzle_hash&quot;: &quot;0x4843c869bba5f65aa1e806cd372dae5668ca3b69640d067e86837ca96b324e71&quot;</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                    },</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                    &quot;puzzle_reveal&quot;: &quot;ff02ffff01ff02ffff03ffff09ffff0bff0580ffff01a02cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b982480ffff01ff04ffff04ff02ffff04ff0bffff04ff17ff80808080ff8080ffff01ff088080ff0180ffff04ffff0133ff018080 &quot;,</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                    &quot;solution&quot;: &quot;ff8568656c6c6fffa05f5767744f91c1c326d927a63d9b34fa7035c10e3eb838c44e3afe127c1b7675ff0280&quot;</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">                }</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">            ]</span></span><span class="token-line" style="color:#383a42;font-weight:bold"><span class="token string" style="color:#B35C00;font-weight:normal">        }}&#x27;</span><span class="token plain"> -H </span><span class="token string" style="color:#B35C00;font-weight:normal">&quot;Content-Type: application/json&quot;</span><span class="token plain"> -X POST https://localhost:8555/push_tx</span></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_Ue-o clean-btn">复制</button></div></div><p>The <code>spend_bundle</code> object contains an <code>aggregated_signature</code>, which we can later assert in the puzzle, and <code>coin_solutions</code>: a list of objects for all of the coins we are spending. If <code>aggregated_signature</code> is not necessary for your puzzle, use 0xc followed by 191 zeros (as in the example above). However, it&#x27;s worth noting that a puzzle that doesn&#x27;t use a signature is usually unsafe and should be used only for testing purposes.</p><p>The <code>coin_solution</code> contains information about the <code>coin</code> it is spending (<code>amount</code>, <code>parent_coin_info</code>, and  <code>puzzle_hash</code>). It also includes a serialized puzzle as a <code>puzzle_reveal</code> and serialized <code>solution</code>.</p><p>If you fill in all your information correctly and send this request, your coin will be spent according to its provided solution, and the response <code>{&quot;status&quot;: &quot;SUCCESS&quot;, &quot;success&quot;: true}</code> should be returned from the RPC call.</p><p>If your puzzle requires an aggregated signature, stay tuned for more tutorials.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/Chia-Network/chialisp-web/edit/main/docs/tutorials/coin_spend_rpc.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/chialisp-web/zh-Hans/docs/tutorials/custom_puzzle_lock"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">« Lock a coin with a custom puzzle</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/chialisp-web/zh-Hans/docs/faq"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">ChiaLisp and CLVM FAQ »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#get-your-coins-info-amount-puzzle-hash--parent-info" class="table-of-contents__link">Get your coin&#39;s info (amount, puzzle hash &amp; parent info)</a><ul><li><a href="#using-chia-explorer-by-puzzle-hashreceive-address" class="table-of-contents__link">Using Chia explorer (by puzzle hash/receive address)</a></li></ul></li><li><a href="#get-serialized-puzzle-and-solution" class="table-of-contents__link">Get serialized puzzle and solution</a><ul><li><a href="#serialization-using-clvm_tools" class="table-of-contents__link">Serialization using clvm_tools</a></li><li><a href="#serialization-using-quexingtons-chialisp-dev-utility" class="table-of-contents__link">Serialization using Quexington's Chialisp Dev Utility</a></li><li><a href="#serialization-using-chialisp-web-tool" class="table-of-contents__link">Serialization using Chialisp web tool</a></li></ul></li><li><a href="#spend-a-coin-with-rpc-call" class="table-of-contents__link">Spend a coin with RPC call</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/chialisp-web/zh-Hans/docs/">CLVM Basics</a></li><li class="footer__item"><a class="footer__link-item" href="/chialisp-web/zh-Hans/docs/coins_spends_and_wallets/">Coins, Spends and Wallets</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://keybase.io/team/chia_network.public" target="_blank" rel="noopener noreferrer" class="footer__link-item">Keybase</a></li><li class="footer__item"><a href="https://twitter.com/chia_project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.chia.net/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/Chia-Network/clvm" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_MyFc" href="/chialisp-web/zh-Hans/"><img src="/chialisp-web/zh-Hans/img/full_logo_white.svg" alt="Chialisp full logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/chialisp-web/zh-Hans/img/full_logo_white.svg" alt="Chialisp full logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 Chia Network Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/chialisp-web/zh-Hans/assets/js/runtime~main.a3f653e3.js"></script>
<script src="/chialisp-web/zh-Hans/assets/js/main.a8cafe8e.js"></script>
</body>
</html>